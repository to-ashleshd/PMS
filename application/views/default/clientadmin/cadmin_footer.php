<div class="footer_space"></div>
</div> 

<!-- footer --> 
<footer>
    <div class="container-fluid">
        <div class="row-fluid">
            <div class="span4">
                <div>&copy; <?php echo $site_name; ?> <?php echo date("Y"); ?></div>
            </div>
            <div class="span4">
                <ul class="unstyled">
                    <li><a href="<?php echo site_url("clientadmin/dashboard"); ?>">Home</a></li>
                    <li>&middot;</li>
                    <li><a href="#">Contact Us</a></li>
                </ul>
            </div>
			<div class="span4">
				<p class="footer">Page rendered in <strong>{elapsed_time}</strong> seconds</p>
            </div>
        </div>
    </div>
</footer>

<!-- Common JS -->
<!-- jQuery framework -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/jquery.min.js"></script>
<!-- bootstrap Framework plugins -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/bootstrap/js/bootstrap.min.js"></script>
<!-- top menu -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/jquery.fademenu.js"></script>
<!-- top mobile menu -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/selectnav.min.js"></script>
<!-- actual width/height of hidden DOM elements -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/jquery.actual.min.js"></script>
<!-- jquery easing animations -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/jquery.easing.1.3.min.js"></script>
<!-- power tooltips -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/powertip/jquery.powertip-1.1.0.min.js"></script>
<!-- date library -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/moment.min.js"></script>
<!-- common functions -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/beoro_common.js"></script>

<!-- switch buttons -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/ibutton/js/jquery.ibutton.beoro.min.js"></script>
<!-- enchanced select box, tag handler -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/select2/select2.min.js"></script>

<script src="<?php echo base_url("assets/clientadmin"); ?>/js/pages/beoro_settings.js"></script>



<!-- Data Table -->
<!-- datatables -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/datatables/js/jquery.dataTables.min.js"></script>
<!-- datatables column reorder -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/datatables/extras/ColReorder/media/js/ColReorder.min.js"></script>
<!-- datatables column toggle visibility -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/datatables/extras/ColVis/media/js/ColVis.min.js"></script>
<!-- datatables bootstrap integration -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/datatables/js/jquery.dataTables.bootstrap.min.js"></script>
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/pages/beoro_datatables.js"></script>

<!-- Forms -->
<!-- jQuery UI -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/jquery-ui/jquery-ui-1.9.2.custom.min.js"></script>
<!-- touch event support for jQuery UI -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/jquery-ui/jquery.ui.touch-punch.min.js"></script>
<!-- progressbar animations -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/form/jquery.progressbar.anim.min.js"></script>
<!-- 2col multiselect -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/multi-select/js/jquery.multi-select.min.js"></script>
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/multi-select/js/jquery.quicksearch.min.js"></script>
<!-- combobox -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/form/fuelux.combobox.min.js"></script>
<!-- file upload widget -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/form/bootstrap-fileupload.min.js"></script>
<!-- masked inputs -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/jquery-inputmask/jquery.inputmask.min.js"></script>
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/jquery-inputmask/jquery.inputmask.extensions.js"></script>
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/jquery-inputmask/jquery.inputmask.date.extensions.js"></script>
<!-- enchanced select box, tag handler -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/select2/select2.min.js"></script>
<!-- password strength metter -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/pwdMeter/jquery.pwdMeter.min.js"></script>
<!-- datepicker -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/bootstrap-datepicker/js/bootstrap-datepicker.min.js"></script>
<!-- timepicker -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/bootstrap-timepicker/js/bootstrap-timepicker.min.js"></script>
<!-- colorpicker -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js"></script>
<!-- metadata -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/ibutton/js/jquery.metadata.min.js"></script>
<!-- switch buttons -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/ibutton/js/jquery.ibutton.beoro.min.js"></script>
<!-- autosize textarea -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/form/jquery.autosize.min.js"></script>
<!-- textarea counter -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/jquery-textarea-counter/jquery.textareaCounter.plugin.min.js"></script>
<!-- UI Spinners -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/jqamp-ui-spinner/globalize/globalize.min.js"></script>
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/jqamp-ui-spinner/globalize/cultures/globalize.culture.fr-FR.js"></script>
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/jqamp-ui-spinner/globalize/cultures/globalize.culture.ja-JP.js"></script>
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/jqamp-ui-spinner/globalize/cultures/globalize.culture.zh-CN.js"></script>
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/jqamp-ui-spinner/compiled/jqamp-ui-spinner.min.js"></script>
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/jqamp-ui-spinner/compiled/jquery-mousewheel-3.0.6.min.js"></script>
<!-- plupload and the jQuery queue widget -->
<script type="text/javascript" src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/plupload/js/plupload.full.js"></script>
<script type="text/javascript" src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/plupload/js/jquery.plupload.queue/jquery.plupload.queue.js"></script>

<!-- WYSIWG Editor -->
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/ckeditor/ckeditor.js"></script>

<script src="<?php echo base_url("assets/clientadmin"); ?>/js/pages/beoro_form_elements.js"></script>
<script src="<?php echo base_url("assets/user"); ?>/js/form_validation.js"></script>
<!--<script src="<?php //echo base_url("assets/clientadmin"); ?>/js/localisation.js"></script>-->

   <!-- flot charts -->
            <script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/flot-charts/jquery.flot.js"></script>
            <script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/flot-charts/jquery.flot.resize.js"></script>
            <script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/flot-charts/jquery.flot.pie.js"></script>
            <script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/flot-charts/jquery.flot.orderBars.js"></script>
            <script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/flot-charts/jquery.flot.tooltip.js"></script>
            <script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/flot-charts/jquery.flot.time.js"></script>
            <script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/flot-charts/jquery.flot.stack.js"></script>
            <script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/flot-charts/jquery.flot.threshold.js"></script>

<!--            <script src="<?php echo base_url("assets/clientadmin"); ?>/js/pages/beoro_charts.js"></script>
-->
   <!-- Dashboard JS -->
        <!-- jQuery UI -->
            <script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/jquery-ui/jquery-ui-1.9.2.custom.min.js"></script>
        <!-- touch event support for jQuery UI -->
            <script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/jquery-ui/jquery.ui.touch-punch.min.js"></script>
        <!-- colorbox -->
            <script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/colorbox/jquery.colorbox.min.js"></script>
        <!-- fullcalendar -->
            <script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/fullcalendar/fullcalendar.min.js"></script>
        <!-- flot charts -->
            <script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/flot-charts/jquery.flot.js"></script>
            <script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/flot-charts/jquery.flot.resize.js"></script>
            <script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/flot-charts/jquery.flot.pie.js"></script>
            <script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/flot-charts/jquery.flot.orderBars.js"></script>
            <script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/flot-charts/jquery.flot.tooltip.js"></script>
            <script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/flot-charts/jquery.flot.time.js"></script>
        <!-- responsive carousel -->
            <script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/carousel/plugin.min.js"></script>
        <!-- responsive image grid -->
            <script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/wookmark/jquery.imagesloaded.min.js"></script>
            <script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/wookmark/jquery.wookmark.min.js"></script>

            <script src="<?php echo base_url("assets/clientadmin"); ?>/js/pages/beoro_dashboard.js"></script>

<script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/jquery-validation/jquery.validate.min.js"></script>
<script src="<?php echo base_url("assets/clientadmin"); ?>/js/pages/beoro_form_validation.js"></script>
 <script src="<?php echo base_url("assets/clientadmin"); ?>/js/lib/jquery-validation/additional-methods.js"></script>

<script type="text/javascript">
    var g_hostName = '<?php echo site_url(); ?>';
    $(document).ready(function() {
			$("#newtemplate").click( function() {
				$('#templateid').val('');
				$('#templatecode').val('');
				$('#templatedescription').val('');
				$('#templatesubject').val('');
				$('#wysiwg_editor2').val('');
			});
	
        $(".editemailtemplate").click( function() {
            //alert('Edit Template');
            var templateid = $(this).attr('templateid') ;
            //alert(templateid );
                        
            $.ajax({
                url : g_hostName + "/clientadmin/get_template_info",
                dataType : "json",
                success : function(data) {
                    //alert('Data ' + data) ;
                   // alert('tpl_subject ' + data['tpl_body']) ;
                    $("#wysiwg_editor2").html(data['tpl_body']);
                }
            });                        
		
        });
	
	//For Mail Settings
		$("#s_mailer").change(function() {			
			var checkid = $(this).attr('value') ;
			var yesno = confirm('Warning!\nIf you change setting, Existing setting will be lost.\nAre you sure to continue?');
			if( yesno ) {
				$("#s_mail_from").val('');
				$("#s_mail_name").val('');
			
				$("#s_smtp_user").val('');
				$("#s_smtp_password").val('');
				$("#s_smtp_host").val('');
				$("#s_smtp_port").val('');
			
				if( checkid =='mail' ) {
					//For PHP Mail
					$("#smtp_settings").hide();
				}
				else {
					//For SMTP
					$("#smtp_settings").show();
				}
			}	
			else {
				//Restore
				$("#s_mailer").val('mail');
				/**
				if( checkid =='mail' ) {
					$("#s_mailer").val('smtp');
				}
				else {
					$("#s_mailer").val('mail');
				}
				**/
				//alert('Restore to ' + checkid );
				//$("#s_mailer").val(checkid);
			}
		});
		//Check default value for Mail Settings
		
		if( $("#s_mailer").length )
		{
			var checkid_mail_settings = $("#s_mailer").attr('value');
			if( checkid_mail_settings =='mail' ) {
				//For PHP Mail
				$("#smtp_settings").hide();
			}
			else {
				//For SMTP
				$("#smtp_settings").show();
			}
		}
		
		
        if($('#s_clientreg').length) {
            $("#s_clientreg").iButton({
                labelOn: "Yes",
                labelOff: "No"
            });
        }

        if($('#s_lang_admin').length) {
            $('#s_lang_admin').select2({
                tags:["English", "Hindi", "Chinese", "Dutch", "French", "German", "Hungarian", "Italian", "Lithuanian", "Russian", "Spanish", "Swedish", "Ukrainian"],
                tokenSeparators: [",", " "]
            });
        }

        if($('#dt_colVis_emailtemplate').length) {
            $('#dt_colVis_emailtemplate').dataTable({
                "sPaginationType": "bootstrap",
				"iDisplayLength": 25,
                "sDom": "R<'dt-top-row'Clf>r<'dt-wrapper't><'dt-row dt-bottom-row'<'row-fluid'ip>",
                "fnInitComplete": function(oSettings, json) {
                    $('.ColVis_Button').addClass('btn btn-mini btn-inverse').html('Columns');
                }
            });
        }
		
		//for localisation comany list
            if($('#dt_colVis_Reorder_client').length) {
                $('#dt_colVis_Reorder_client').dataTable({
                    "sPaginationType": "bootstrap",
					"iDisplayLength": 25,
                    "sDom": "R<'dt-top-row'Clf>r<'dt-wrapper't><'dt-row dt-bottom-row'<'row-fluid'ip>",
                    "fnInitComplete": function(oSettings, json) {
                        $('.ColVis_Button').addClass('btn btn-mini btn-inverse').html('Columns');
                    }
                });
            }
			
			//for localisation country list
			   if($('#dt_colVis_Reorder_client_country').length) {
                $('#dt_colVis_Reorder_client_country').dataTable({
                    "sPaginationType": "bootstrap",
					"iDisplayLength": 25,
                    "sDom": "R<'dt-top-row'Clf>r<'dt-wrapper't><'dt-row dt-bottom-row'<'row-fluid'ip>",
                    "fnInitComplete": function(oSettings, json) {
                        $('.ColVis_Button').addClass('btn btn-mini btn-inverse').html('Columns');
                    }
                });
            }
			
			
			//for localisation state list
			   if($('#dt_colVis_Reorder_client_state').length) {
                $('#dt_colVis_Reorder_client_state').dataTable({
                    "sPaginationType": "bootstrap",
					"iDisplayLength": 25,
                    "sDom": "R<'dt-top-row'Clf>r<'dt-wrapper't><'dt-row dt-bottom-row'<'row-fluid'ip>",
                    "fnInitComplete": function(oSettings, json) {
                        $('.ColVis_Button').addClass('btn btn-mini btn-inverse').html('Columns');
                    }
                });
            }
      var l = $('#dt_colVis_Reorder_client_city').length;
	
	  	if(l!=1)
		{
			   if($('#dt_colVis_Reorder_client_city').length) {
                $('#dt_colVis_Reorder_client_city').dataTable({
                    "sPaginationType": "bootstrap",
					"iDisplayLength": 25,
                    "sDom": "R<'dt-top-row'Clf>r<'dt-wrapper't><'dt-row dt-bottom-row'<'row-fluid'ip>",
                    "fnInitComplete": function(oSettings, json) {
                        $('.ColVis_Button').addClass('btn btn-mini btn-inverse').html('Columns');
                    }
                });
            }
		}
		
	  
	  
		
        if($('#dt_colVis_usermessage').length) {
            $('#dt_colVis_usermessage').dataTable({
                "sPaginationType": "bootstrap",
				"iDisplayLength": 25,
                "sDom": "R<'dt-top-row'Clf>r<'dt-wrapper't><'dt-row dt-bottom-row'<'row-fluid'ip>",
                "fnInitComplete": function(oSettings, json) {
                    $('.ColVis_Button').addClass('btn btn-mini btn-inverse').html('Columns');
                }
            });
        }
		
        //For s_captcha
		
        $(".s_captcha").click(function() {
            var checkid = $(this).attr('id') ;
            if( checkid == 's_recaptcha' ) {
                $("#recaptchainfo").show();
            }
            else {
                $("#recaptchainfo").hide();
            }
        });
        
        $("templatesubject").val("new value");

    });	

    //Activate current tab
    /**
        $("#tb1_a").removeClass("current");
        $("#tb1_b").removeClass("current");
        $("#tb1_c").removeClass("current");
        $("#tb1_e").removeClass("current");
        $("#tb1_i").removeClass("current");
	
        $("#tb1_b").addClass("current");
     **/

	function check_confirm()
	{		
		if (confirm("Are you sure you want to delete this?")) {
			return true;
		}
		else {
			return false;
		}	
	}
	
	function validate_emailtemplate()
	{
		var flag=0;
		var msg = '';
		var templatecode = $("#templatecode").val();
		var templatedescription = $("#templatedescription").val();
		var templatesubject = $("#templatesubject").val();
		var wysiwg_editor2 = $("#wysiwg_editor2").val();
		
		if( templatecode == '' ) {
			msg += 'Please Enter Template Code.\n';flag=1;
		}
		
		if( templatedescription == '' ) {
			msg += 'Please Enter Template Description.\n';flag=1;
		}
		
		if( templatesubject == '' ) {
			msg += 'Please Enter Template Subject.\n';flag=1;
		}
		
		if( wysiwg_editor2 == '' ) {
			msg += 'Please Enter Template Message.\n';flag=1;
		}
		
		if(flag==1) {
			//alert(msg);
			return false;
		}
		else
		{
			$('#submit_email_template').attr('disabled','disabled');$('#submit_email_template').css('color','#FFFFFF');
			return true;
		}
		
	}
	
	
</script>
<script type="text/javascript">
function call_state()
{
	
	var url = '<?php echo site_url("ajax/getstate"); ?>';
    var country = $('#country').val();
	alert(country);
	 $.ajax({
				url: url,
				dataType: 'json',
				type: 'POST',
				data: {
						country: country
    		          },
				success: function(response) {
								$("#state").html(response['state']);
								}	
    		});
}//function close

function call_stateforcity()
{
	
	var url = '<?php echo site_url("ajax/getstate"); ?>';
    var country = $('#country_city').val();
	 $.ajax({
				url: url,
				dataType: 'json',
				type: 'POST',
				data: {
						country: country
    		          },
				success: function(response) {
								$("#state_city").html(response['state']);
								}	
    		});
}//function close

function call_cityforcity()
{
	
	var url = '<?php echo site_url("ajax/getcity"); ?>';
	var country = $('#country_city').val();
    var state = $('#state_city').val();
	
	 $.ajax({
				url: url,
				dataType: 'json',
				type: 'POST',
				data: {
						country : country,
						state: state
    		          },
				success: function(response) {
								$("#city_city").html(response['city']);
								}	
    		});
}//function close


</script>
<script type="text/javascript">
function call_generalstate(country_id,state_id)
{
	
	var url = '<?php echo site_url("ajax/getstate"); ?>';
    var country = $('#'+country_id).val();
	
	 $.ajax({
				url: url,
				dataType: 'json',
				type: 'POST',
				data: {
						country: country
    		          },
				success: function(response) {
								$("#"+state_id).html(response['state']);
								}	
    		});
}//function general state close

function call_generalcity(country_id,state_id,city_id)
{
	
	var url = '<?php echo site_url("ajax/getcity"); ?>';
	var country = $('#'+country_id).val();
    var state = $('#'+state_id).val();
	
	 $.ajax({
				url: url,
				dataType: 'json',
				type: 'POST',
				data: {
						country : country,
						state: state
    		          },
				success: function(response) {
								$("#"+city_id).html(response['city']);
								}	
    		});
}//function close

//start function disabled other state
function calldisabled(state)
{

	if(state=='' || state<=0)
	{
		$("#otherstate").removeAttr('disabled','disabled');
	}
	else
	{
		$("#otherstate").val('');
		$("#otherstate").attr('disabled','disabled');
	}

}
//close disabled function state

<!-- start function disabled -->
function calldisabledothercity(city)
{

	if(city=='' || city<=0)
	{
		$("#othercity").removeAttr('disabled','disabled');
	}
	else
	{
		$("#othercity").val('');
		$("#othercity").attr('disabled','disabled');
	}

}

<!--- end desabled function -->


</script>
<script type="text/javascript">
<!-- Start edit country --->
function call_country()
{

	var country_id = $("#countrymaster_country").val();
	var url = '<?php echo site_url("ajax/getCountryInfo"); ?>';
	 $.ajax({
				url: url,
				dataType: 'json',
				type: 'POST',
				data: {
						country : country_id,
    		          },
				success: function(response) {
								$('input[id=\'hcountry_id_country\']').attr('value', response['country_id']);
								$('input[id=\'country\']').attr('value', response['country_name']);
								$('input[id=\'countrycode1\']').attr('value', response['country_isocode1']);
								$('input[id=\'countrycode2\']').attr('value', response['country_isocode2']);
								}	
    		});
}
<!-- End edit country-->

<!-- Start edit state --->
function call_edit_state()
{

	var country_id = $("#country_state").val();
	var state_id   = $("#state_state").val();
	var url = '<?php echo site_url("ajax/getStateInfo"); ?>';
	 $.ajax({
				url: url,
				dataType: 'json',
				type: 'POST',
				data: {
						country : country_id,
						state   : state_id
    		          },
				success: function(response) {
							
								$('select[id=\'country_new_state\']').attr('value', response['country_id']);
								$('input[id=\'state_new_state\']').attr('value', response['state_name']);
								$('input[id=\'hcountry_new_state\']').attr('value', response['state_id']);
								}	
    		});
}
<!-- End edit state-->


<!-- Start edit city --->
function call_edit_city()
{

	var country_id = $("#country_city").val();
	var state_id   = $("#state_city").val();
	var city_id    = $("#city_city").val();
	var url = '<?php echo site_url("ajax/getCityInfo"); ?>';
	 $.ajax({
				url: url,
				dataType: 'json',
				type: 'POST',
				data: {
						country : country_id,
						state   : state_id,
						city    : city_id
    		          },
				success: function(response) {
								
								$('select[id=\'country_new_city\']').html(response['country']);
								$('select[id=\'state_new_city\']').html(response['state']);
								$('input[id=\'hcity_new_city\']').attr('value', response['city_id']);
								$('input[id=\'city_new_city\']').attr('value', response['city_name']);
								
								}	
    		});
}
<!-- End edit city-->

<!-- start update country status -->
function call_updatecountry_status()
{
	var country_id = $("#countrymaster_country").val();
	
	var url = '<?php echo site_url("ajax/updatecountry"); ?>';
	 $.ajax({
				url: url,
				dataType: 'json',
				type: 'POST',
				data: {
						country : country_id,
    		          },
				success: function(response) {
									
									if(response['status']==1)
									{
										//alert(response['message']);
									}
									window.location = '<?php echo site_url("localisation");?>';
								}	
    		});


}<!-- end country country status --->


<!-- start update country status -->
function call_updatestate_status()
{
	var state_id = $("#state_state").val();
	
	var url = '<?php echo site_url("ajax/updatestate"); ?>';
	 $.ajax({
				url: url,
				dataType: 'json',
				type: 'POST',
				data: {
						state : state_id,
    		          },
				success: function(response) {
									
									if(response['status']==1)
									{
										//alert(response['message']);
										
									}
									
									window.location = '<?php echo site_url("localisation/localisation/tb1_c");?>';
								}	
    		});


}<!-- end country country status --->

<!-- start update city status -->
function call_updatecity_status()
{
	var city_id = $("#city_city").val();
	
	var url = '<?php echo site_url("ajax/updatecity"); ?>';
	 $.ajax({
				url: url,
				dataType: 'json',
				type: 'POST',
				data: {
						city : city_id,
    		          },
				success: function(response) {
									
									if(response['status']==1)
									{
										//alert(response['message']);
										
									}
									
									window.location = '<?php echo site_url("localisation/localisation/tb1_d"); ?>';
								}	
    		});


}<!-- end country country status --->






</script>

<script type="text/javascript">
<!-- Start get all companies of selected parent office -->
function call_office_company()
{
	var op_id = $("#office_parent_ot").val();
	
	//alert(op_id);
	var url = '<?php echo site_url("ajax/getcompanyofoffice"); ?>';
	 $.ajax({
				url: url,
				dataType: 'json',
				type: 'POST',
				data: {
						office_p_type_id : op_id,
    		          },
				success: function(response) {
								$('select[id=\'office_type_company\']').html(response['office_p_type_cmp']);
								}	
    		});
	

}

<!-- end of call_office_comany -->

<!-- Start get all parent offices types of selected Company -->
function call_parent_company_offices()
{
	var company_id = $("#office_type_company").val();
	
	
	var url = '<?php echo site_url("ajax/getofficeofcomany"); ?>';
	 $.ajax({
				url: url,
				dataType: 'json',
				type: 'POST',
				data: {
						company_id : company_id,
    		          },
				success: function(response) {
				//alert(response['cmp']);
								$('select[id=\'office_parent_ot\']').html(response['company_parent_offices']);
								}	
    		});
	

}

<!-- end of call_office_comany -->



<!--- start office adress get parent offices --->
 function call_office_for_address()
{
	var otp_id = $("#office_type_oadd").val();
	
	//alert(op_id);
	var url = '<?php echo site_url("ajax/getcompanyofoffice"); ?>';
	 $.ajax({
				url: url,
				dataType: 'json',
				type: 'POST',
				data: {
						office_type_id : otp_id,
    		          },
				success: function(response) {
								$('select[id=\'reported_to_oadd\']').html(response['office_p_type_cmp']);
								}	
    		});
	

}
<!---- end of call_office_for_address -->
</script>
<script type="text/javascript">
function call_country_validation()
{
	var flag=0;
	
	if(!is_char('country','lbl_country_name','YES','Country Name'))
	{
		flag=1;
	}
	if(!is_char('countrycode1','lbl_iso_code1','YES','Country Code'))
	{
		flag=1;
	}
	
	checkcountryexist('country','lbl_country_name');
	var status_cnt = document.getElementById('cntry_status').value;
	checkcountryISOCodeOne('countrycode1','lbl_iso_code1')
	var status_code = document.getElementById('code_status').value;
	if(status_cnt==1)
	{
		flag=1;
	}
	if(status_code==1)
	{
		flag=1;
	}
	
	if(flag==1)
	{
		alert("Please check form carefully for errors");
		return false;
	}
	else
	{
		return true;
	}
	
	
	
}

function check_state_validation()
{
	var flag=0;
	
	if(!is_char('state_new_state','lbl_state_name','YES','State Name'))
	{
		flag=1;
	}
	checkstateexist('state_new_state','lbl_state_name','country_new_state','lbl_state_country');
	var status_code = document.getElementById('hstate_status').value;
	
	if(status_code==1)
	{
		flag=1;
	}
	
	
	if(flag==1)
	{
		alert("Please check form carefully for errors");
		return false;
	}
	else
	{
		return true;
	}

}

function call_city_validation()
{
	var flag=0;
	if(!is_char('city_new_city','lbl_city_new_city','YES','City Name'))
	{
		flag = 1;
	}
	
	checkcityexist('city_new_city','lbl_city_new_city','country_new_city','lbl_country_new_city','state_new_city','lbl_state_new_city')
	var city_status = document.getElementById('hcity_status').value;
	
	if(city_status==1)
	{
		flag=1;
	}
	if(flag==1)
	{
		alert("Please check form carefully for errors");
		return false;
	}
	else
	{
		return true;
	}

}

</script>


<script type="text/javascript">
function checkcountryexist(id,lbl_id)
{
	var hc_id = document.getElementById('hcountry_id_country').value;
	var country_name = document.getElementById(id).value;
	var url = '<?php echo site_url("ajax/checkcountry"); ?>';
	 $.ajax({
				url: url,
				dataType: 'json',
				type: 'POST',
				data: {
						country_name : country_name,
						country_id :hc_id
    		          },
				success: function(response) {
								if(response['status']==1)
								{
									document.getElementById(lbl_id).innerHTML ='Country already Exist';
									document.getElementById('cntry_status').value =1;
								}
								else
								{
									document.getElementById('cntry_status').value =0;
								}
								
								}	
    		});
			
	
}
</script>
<script type="text/javascript">
function checkcountryISOCodeOne(id,lbl_id)
{
	var hc_id = document.getElementById('hcountry_id_country').value;
	var country_code = document.getElementById(id).value;
	var url = '<?php echo site_url("ajax/checkcountryISOCodeOne"); ?>';
	 $.ajax({
				url: url,
				dataType: 'json',
				type: 'POST',
				data: {
						country_code_one : country_code,
						country_id :hc_id
    		          },
				success: function(response) {
								if(response['status']==1)
								{
									
									document.getElementById(lbl_id).innerHTML ='Country ISo Code 1 already Exist';
									document.getElementById('code_status').value =1;
								}
								else
								{
									document.getElementById('code_status').value =0;
								}
								}	
    		});
			
	
}
</script>
<!-- state already exist ---->
<script type="text/javascript">
function checkstateexist(id,lbl_id,country_id,lbl_country_id)
{
	var country_id = document.getElementById(country_id).value;
	if(country_id=='' || country_id==null)
	{
		document.getElementById(lbl_country_id).innerHTML = 'Please Select Country';
		return false;
	}
	else
	{
	document.getElementById(lbl_country_id).innerHTML = '';
	var hs_id = document.getElementById('hcountry_new_state').value;
	var state_name = document.getElementById(id).value;
	var url = '<?php echo site_url("ajax/checkstate"); ?>';
	 $.ajax({
				url: url,
				dataType: 'json',
				type: 'POST',
				data: {
						state_name : state_name,
						country_id : country_id,
						state_id : hs_id
    		          },
				success: function(response) {
								if(response['status']==1)
								{
									document.getElementById(lbl_id).innerHTML ='State already Exist';
									document.getElementById('hstate_status').value =1;
								}
								else
								{
									document.getElementById('hstate_status').value =0;
								}
								
								}	
    		});
	}	
	
}
</script>

<!--end stae exist -->

<!-- city already exist ---->
<script type="text/javascript">
function checkcityexist(id,lbl_id,country_id,lbl_country_id,state_id,lbl_state_id)
{
	var country_id = document.getElementById(country_id).value;
	var state_id  =  document.getElementById(state_id).value;
	if(country_id=='' || country_id==null || state_id=='' || state_id==null)
	{
		if(country_id=='' || country_id==null)
		{
			document.getElementById(lbl_country_id).innerHTML = 'Please Select Country';
		}
		if(state_id=='' || state_id==null)
		{
			document.getElementById(lbl_state_id).innerHTML = 'Please Select State';
		}
		return false;
	}
	else
	{
	document.getElementById(lbl_country_id).innerHTML = '';
	document.getElementById(lbl_state_id).innerHTML = '';
	var hcity_id = document.getElementById('hcity_new_city').value;
	var city_name = document.getElementById(id).value;
	var url = '<?php echo site_url("ajax/checkcity"); ?>';
	 $.ajax({
				url: url,
				dataType: 'json',
				type: 'POST',
				data: {
						city_name : city_name,
						country_id : country_id,
						state_id : state_id,
						city_id :hcity_id
    		          },
				success: function(response) {
								if(response['status']==1)
								{
									document.getElementById(lbl_id).innerHTML ='city already Exist';
									document.getElementById('hcity_status').value =1;
								}
								else
								{
									document.getElementById('hcity_status').value =0;
								}
								
								}	
    		});
	}	
	
}
</script>

<!--end city exist -->
<script type="text/javascript" >
function hide_message(id)
	{
		setTimeout(function(){ $("#"+id).html(''); }, 3000);
	}

</script>
<script type="text/javascript">
function validate_language()
	{
		var flag=0;
		var s_lang_visitors = $("#s_lang_visitors").val();
		var s_lang_redirect = $("#s_lang_redirect").val();
		
		var s_currency_1 = $("#s_currency_1").attr('checked');
		var s_currency_2 = $("#s_currency_2").attr('checked');
		var s_currency_3 = $("#s_currency_3").attr('checked');
		var s_currency_4 = $("#s_currency_4").attr('checked');
		
		
		var msg = '';
		
		if( s_lang_visitors == '' ){
			msg += 'Please Select at least one language for "Accessible for visitors".\n';
			flag =1;
		}
		
		if( s_lang_redirect == '' ){
			msg += 'Please Select at least one language for "Browser based support".\n';
			flag =1;
		}
		
		if( s_currency_1 == 'checked' || s_currency_2 == 'checked' || s_currency_3 == 'checked' || s_currency_4 == 'checked' )
		{
			//Currency Selected
		}
		else {
			msg += 'Please Select at least one Currency.\n';
			flag =1;
		}	

		
		if(flag ==1) {
			//alert(msg);
			if(s_lang_visitors=='' || s_lang_visitors.length<=0)
			{
				alert(msg);
			}
			return false;
		}
		else
		{
			
			$('#submit_lang_time').attr('disabled','disabled');$('#submit_lang_time').css('color','#FFFFFF');
			return true;
		}
	}
		
	function validate_security()
	{
		var msg = '';
		var s_bantime = $('#s_bantime').val();
		var s_bantime_attempts ;
		var s_password_change_days ;
		var cant_use_last_passwd ;
		var flag=0;
		if($('#s_recaptcha').is('checked'))
		{
			var recaptcha_domainname = $('#recaptcha_domainname').val();
			var recaptcha_publickey = $('#recaptcha_publickey').val();
			var recaptcha_privatekey = $('#recaptcha_privatekey').val();
			if(recaptcha_domainname=='' || recaptcha_domainname=='' || recaptcha_privatekey=='' || recaptcha_publickey.length<=0 || recaptcha_publickey.length<=0 || recaptcha_privatekey.length<=0)
			{
				flag=1;
			}
		}
		
		if($('#s_bantime').val()=='')
		{
			flag=1;
		}
		else if(!new_isnumeric($('#s_bantime').val()))
		{
			flag=1;
		}
		
		
		if($('#s_bantime_attempts').val()=='')
		{
			flag=1;
		}
		else if(!new_isnumeric($('#s_bantime_attempts').val()))
		{
			flag=1;
		}
		
		if($('#passwdchange').val()=='')
		{
			flag=1;
		}
		else if(!new_isnumeric($('#passwdchange').val()))
		{
			flag=1;
		}
		
		if($('.s_client_display_format').val()=='')
		{
			flag=1;
		}
		
		if(s_bantime=='')
		{
			msg += 'Ban time can not empty';
			flag=1;
		}
		//alert(flag);
		if(flag==1)
		{
			//alert("Please check for following errors\n"+msg);
			return false;
		}
		else
		{
			$('#submit_security').attr('disabled','disabled');$('#submit_security').css('color','#FFFFFF');
			return true;
		}
		
	}
	
	function validate_mailsetting()
	{
	var flag=0;
		//var current_mail_settings = $("#s_mailer").attr('value');
		var current_mail_settings = $("#s_mailer").val();
		
		var msg = '';
		if( current_mail_settings == 'mail' ) {
			//Check for email name and from name
			var s_mail_from = $("#s_mail_from").val();
			var s_mail_name = $("#s_mail_name").val();
			if( s_mail_from == '' ) {
				msg += 'Please enter value for "From Email".\n';
				flag=1;
			}
			else {
				if( new_emailvalidater(s_mail_from) == false )
				{
					msg += 'Please enter value Email Address.\n';flag=1;
				}
			}
			
			if( s_mail_name == '' ) {
				msg += 'Please enter value for "From Name".\n';flag=1;
			}
			
			
			
		}
		else {
			//Check for smtp
			var s_mail_from = $("#s_mail_from").val();
			var s_mail_name = $("#s_mail_name").val();
			
			var s_smtp_user = $("#s_smtp_user").val();
			var s_smtp_password = $("#s_smtp_password").val();
			var s_smtp_host = $("#s_smtp_host").val();
			var s_smtp_port = $("#s_smtp_port").val();
			
			if( s_mail_from == '' ) {
				msg += 'Please enter value for "From Email".\n';flag=1;
			}
			else {
				if( new_emailvalidater(s_mail_from) == false )
				{
					msg += 'Please enter value Email Address.\n';flag=1;
				}
			}
			
			if( s_mail_name == '' ) {
				msg += 'Please enter value for "From Name".\n';flag=1;
			}
			
			if( s_smtp_user == '' ) {
				msg += 'Please enter value for "SMTP Username".\n';flag=1;
			}
			if( s_smtp_password == '' ) {
				msg += 'Please enter value for "SMTP Password".\n';flag=1;
			}
			if( s_smtp_host == '' ) {
				msg += 'Please enter value for "SMTP Host".\n';flag=1;
			}
			if( s_smtp_port == '' ) {
				msg += 'Please enter value for "SMTP Port".\n';flag=1;
			}
			else{
				if(new_isnumeric(s_smtp_port) == false ) {
					msg += 'Please enter number for port.\n';flag=1;
				}
			}
			//alert(flag);			
		}
		//alert(flag);
		if(flag==1) {
			//alert(msg);
			return false;
		}
		else
		{
			alert("true");
			return true;
		}
		
	}	
	
</script>
<script type="text/javascript" >
$(document).ready(function() {
	
	
    $("#validate_general").submit(function() {
	var alt_name = $('#gen_site_alt_name').val();
	var site_name = $('#gen_site_name').val();
	if(alt_name=='' || alt_name.length<=0 || site_name=='' || site_name.length<=0)
	{
		return false;
	}
	else
	{
	$('#submit').attr('disabled','disabled');
	 var frm = $('#validate_general');
		
        $.ajax({
            type: frm.attr('method'),
            url: '<?php echo base_url('clientadmin/upadte_general_setting_ajax'); ?>',
            data: frm.serialize(),
            success: function (data) {
			   $('#submit').removeAttr('disabled','disabled');
				var html ='';
				$('#reset').click();
				if(data=='Please try again'){ 
						html += '<div class="alert alert-error">';
						html += '<a class="close" data-dismiss="alert">&times;</a>';
						html += '<strong>Error!&nbsp;</strong>'+data;
						html += '</div>';
					
				}
				else
				{
					html += '<div class="alert alert-success">';
                    html += '<a class="close" data-dismiss="alert">&times;</a>';
                    html += '<strong>Success!</strong> '+data;
                    html += '</div>';
				}
				$('#flashmessages').html('');
				$('#flashmessages').append(html);
				$("html, body").animate({ scrollTop: 0 }, "slow");
				hide_message('flashmessages');
				var url = '<?php echo site_url("clientadmin/get_general_settting_detail"); ?>';
				var html = '';
				$.ajax({
						
						url: url,
						dataType: 'json',
						type: 'POST',
						data: {
								
							  },
								success: function(response) {
									$('img').attr('src',response.logo);
									$('#gen_site_alt_name').val(response.gen_site_alt_name);
									$('#gen_site_name').val(response.gen_site_name);
									if(response.gen_clientreg=='Y')
									{
										$('#gen_clientreg').attr('checked','checked');
									}
									else
									{
										$('#gen_clientreg').removeAttr('checked','checked');
									}
									$('#gen_rows_per_page').val(response.gen_rows_per_page);
									if(response.gen_is_offline=='Y')
									{
										$('#gen_is_offline').attr('checked','checked');
									}
									else{
										$('#gen_is_offline').removeAttr('checked','checked');
									}
									$('#gen_off_message').val(response.gen_off_message);
									$('#themeMode').val(response.gen_theme_template);
								}
						});
			 
            },
            error: function(jqXHR, textStatus, errorThrown){
            // log the error to the console
            console.log(
                "The following error occured: "+
                textStatus, errorThrown
            );
            }
 
        });
		

        return false;
		}
    });
	
	
	$("#validate_field_types").submit(function() {
	
	if(validate_mailsetting())
	{
		$('#submit_mail').attr('disabled','disabled');
	 	var frm = $('#validate_field_types');
        $.ajax({
            type: frm.attr('method'),
            url: '<?php echo base_url('clientadmin/update_mail_setting'); ?>',
            data: frm.serialize(),
            success: function (data) {
			   $('#submit_mail').removeAttr('disabled','disabled');
				var html ='';
				$('#reset').click();
				if(data=='Please try again'){ 
						html += '<div class="alert alert-error">';
						html += '<a class="close" data-dismiss="alert">&times;</a>';
						html += '<strong>Error!&nbsp;</strong>'+data;
						html += '</div>';
					
				}
				else
				{
					html += '<div class="alert alert-success">';
                    html += '<a class="close" data-dismiss="alert">&times;</a>';
                    html += '<strong>Success!</strong> '+data;
                    html += '</div>';
				}
				$('#flashmessages').html('');
				$('#flashmessages').append(html);
				$("html, body").animate({ scrollTop: 0 }, "slow");
				//hide_message('flashmessages');
				var url = '<?php echo site_url("clientadmin/get_mail_settting_detail"); ?>';
				var html = '';
				$.ajax({
						
						url: url,
						dataType: 'json',
						type: 'POST',
						data: {
								
							  },
								success: function(response) {
									$('#s_mailer').val(response.s_mailer);
									$('#s_mail_from').val(response.s_mail_from);
									$('#s_mail_name').val(response.s_mail_name);
									$('#s_smtp_user').val(response.s_smtp_user);
									$('#s_smtp_password').val(response.s_smtp_password);
									$('#s_smtp_host').val(response.s_smtp_host);
									$('#s_smtp_port').val(response.s_smtp_port);
									if(response.u_ssl=='none')
									{
										$('#u_none').attr('checked','checked');
									}
									else if(response.u_ssl=='ssl')
									{
										$('#u_ssl').attr('checked','checked');
									}
									else if(response.u_ssl=='tls')
									{
										$('#u_tls').attr('checked','checked');
									}
									else
									{
										$('#u_none').removeAttr('checked','checked');
										$('#u_ssl').removeAttr('checked','checked');
										$('#u_tls').removeAttr('checked','checked');
									}
								}
						});
			 
            },
            error: function(jqXHR, textStatus, errorThrown){
            // log the error to the console
            console.log(
                "The following error occured: "+
                textStatus, errorThrown
            );
            }
 
        });
		

        return false;
		}
		else
		{
			return false;
		}
    });
	
	
	$("#form_lang_setting").submit(function() {
	
	if(validate_language())
	{
		$('#submit_lang_time').attr('disabled','disabled');
	 	var frm = $('#form_lang_setting');
        $.ajax({
            type: frm.attr('method'),
            url: '<?php echo base_url('clientadmin/update_language_setting'); ?>',
            data: frm.serialize(),
            success: function (data) {
			   $('#submit_lang_time').removeAttr('disabled','disabled');
				var html ='';
				$('#reset').click();
				if(data=='Please try again'){ 
						html += '<div class="alert alert-error">';
						html += '<a class="close" data-dismiss="alert">&times;</a>';
						html += '<strong>Error!&nbsp;</strong>'+data;
						html += '</div>';
					
				}
				else
				{
					html += '<div class="alert alert-success">';
                    html += '<a class="close" data-dismiss="alert">&times;</a>';
                    html += '<strong>Success!</strong> '+data;
                    html += '</div>';
				}
				$('#flashmessages').html('');
				$('#flashmessages').append(html);
				$("html, body").animate({ scrollTop: 0 }, "slow");
				//hide_message('flashmessages');
				var url = '<?php echo site_url("clientadmin/get_language_setting"); ?>';
				var html = '';
				$.ajax({
						
						url: url,
						dataType: 'json',
						type: 'POST',
						data: {
								
							  },
								success: function(response) {
									$('#s_lang_visitors').val(response.s_lang_visitors);
									$('#s_lang_redirect').val(response.s_lang_redirect);
									
									
									$('#s_time_format').val(response.s_time_format);
									$('#s_date_format').val(response.s_date_format);
									$('#s_decimal_format').val(response.s_decimal_format);
									$('#s_currency_format').val(response.s_currency_format);
									
									$('#s_time_zone').val(response.s_time_zone);
									$('#select_country').val(response.s_select_country);
									
									if(response.s_currency=='INR')
									{
										$('#s_currency_1').attr('checked','checked');
									}
									else if(response.s_currency=='USD')
									{
										$('#s_currency_2').attr('checked','checked');
									}
									else if(response.s_currency=='YEN')
									{
										$('#s_currency_3').attr('checked','checked');
									}
									else if(response.s_currency=='EURO')
									{
										$('#s_currency_4').attr('checked','checked');
									}
									else
									{
										$('#s_currency_1').removeAttr('checked','checked');
										$('#s_currency_2').removeAttr('checked','checked');
										$('#s_currency_3').removeAttr('checked','checked');
										$('#s_currency_4').removeAttr('checked','checked');
									}
								}
						});
			 
            },
            error: function(jqXHR, textStatus, errorThrown){
            // log the error to the console
            console.log(
                "The following error occured: "+
                textStatus, errorThrown
            );
            }
 
        });
		

        return false;
		}
		else
		{
			return false;
		}
    });
	
	$("#form_security").submit(function() {
	
	if(validate_security())
	{
		$('#submit_security').attr('disabled','disabled');
	 	var frm = $('#form_security');
        $.ajax({
            type: frm.attr('method'),
            url: '<?php echo base_url('clientadmin/update_security_setting'); ?>',
            data: frm.serialize(),
            success: function (data) {
			   $('#submit_security').removeAttr('disabled','disabled');
				var html ='';
				//$('#reset').click();
				if(data=='Please try again'){ 
						html += '<div class="alert alert-error">';
						html += '<a class="close" data-dismiss="alert">&times;</a>';
						html += '<strong>Error!&nbsp;</strong>'+data;
						html += '</div>';
					
				}
				else
				{
					html += '<div class="alert alert-success">';
                    html += '<a class="close" data-dismiss="alert">&times;</a>';
                    html += '<strong>Success!</strong> '+data;
                    html += '</div>';
				}
				$('#flashmessages').html('');
				$('#flashmessages').append(html);
				$("html, body").animate({ scrollTop: 0 }, "slow");
				//hide_message('flashmessages');
				var url = '<?php echo site_url("clientadmin/get_security_setting"); ?>';
				var html = '';
				$.ajax({
						
						url: url,
						dataType: 'json',
						type: 'POST',
						data: {
								
							  },
								success: function(response) {
									if(response.oninternet=='Y')
									{
										$('#oninternet').attr('checked','checked');
									}
									else
									{
										$('#oninternet').removeAttr('checked','checked');
									}
									
									if(response.s_captcha=='default')
									{
											$('#s_default').attr('checked','checked');
									}
									else if(response.s_captcha=='recaptcha')
									{
										$('#s_default').removeAttr('checked','checked');
										$('#s_recaptcha').attr('checked','checked');
									}
									else
									{
										$('#s_recaptcha').removeAttr('checked','checked');
									}
									$('#recaptcha_domainname').val(response.recaptcha_domainname);
									$('#recaptcha_publickey').val(response.recaptcha_publickey);
									$('#recaptcha_privatekey').val(response.recaptcha_privatekey);
									
									$('#ui_slider3_sel').val(response.ui_slider3_sel);
									$('#s_bantime').val(response.s_bantime);
									$('#s_bantime_attempts').val(response.s_bantime_attempts);
									
									$('#passwdchange').val(response.s_password_change_days);
									$('#cant_use_last_passwd').val(response.cant_use_last_passwd);
									
									if(response.s_client_display_format=='fname_lname')
									{
										$('#s_fname').attr('checked','checked');
									}
									else if(response.s_client_display_format=='company_fname_lname')
									{
										$('#s_company').attr('checked','checked');
									}
									else if(response.s_client_display_format=='fullname_company_name')
									{
										$('#s_fname_company').attr('checked','checked');
									}
									else
									{
										$('#s_fname').removeAttr('checked','checked');
										$('#s_company').removeAttr('checked','checked');
										$('#s_fname_company').removeAttr('checked','checked');
									}
								}
						});
			 
            },
            error: function(jqXHR, textStatus, errorThrown){
            // log the error to the console
            console.log(
                "The following error occured: "+
                textStatus, errorThrown
            );
            }
 
        });
		

        return false;
		}
		else
		{
			return false;
		}
    });
	
	
	
	$("#frm_emailtemplate").submit(function() {
	
	if(validate_emailtemplate())
	{
		$('#submit_email_template').attr('disabled','disabled');
	 	var frm = $('#frm_emailtemplate');
        $.ajax({
            type: frm.attr('method'),
            url: '<?php echo base_url('clientadmin/update_email_template'); ?>',
            data: frm.serialize(),
            success: function (data) {
			   $('#submit_email_template').removeAttr('disabled','disabled');
				var html ='';
				//$('#reset').click();
				if(data=='Please try again'){ 
						html += '<div class="alert alert-error">';
						html += '<a class="close" data-dismiss="alert">&times;</a>';
						html += '<strong>Error!&nbsp;</strong>'+data;
						html += '</div>';
					
				}
				else
				{
					html += '<div class="alert alert-success">';
                    html += '<a class="close" data-dismiss="alert">&times;</a>';
                    html += '<strong>Success!</strong> '+data;
                    html += '</div>';
				}
				$('#flashmessages').html('');
				$('#flashmessages').append(html);
				$("html, body").animate({ scrollTop: 0 }, "slow");
				//hide_message('flashmessages');
				var url = '<?php echo site_url("clientadmin/get_email_template"); ?>';
				var html = '';
				$.ajax({
						
						url: url,
						dataType: 'json',
						type: 'POST',
						data: {
								
							  },
								success: function(response) {
									html += '<tr>';
									html += '<td>'+response.emailtemplate_id+'</td>';
									html += '<td>USER</td>';
                                    html += '<td>'+response.emailtemplate_desc+'</td>';
                                 	html += '<td>'+response.emailtemplate_code+'</td>';
									html += '<td>'+response.emailtemplate_subject+'</td>';
                                  	html += '<td>'+response.emailtemplate_body+'</td>';
                                  	html += '<td>';
									html += '<div class="btn-group">';
									html += '<a href="<?php echo site_url('clientadmin/generalsettings/tb1_i/'); ?>/'+response.emailtemplate_id+'" templateid="'+response.emailtemplate_id+'" class="btn btn-mini editemailtemplate" title="Edit"><i class="icon-pencil"></i></a>';
                                    html += '</div></td>';
                                	html += '</tr>';
									$('#tbody_email_template').append(html);
									templateid
									templatecode
								}
						});
			 
            },
            error: function(jqXHR, textStatus, errorThrown){
            // log the error to the console
            console.log(
                "The following error occured: "+
                textStatus, errorThrown
            );
            }
 
        });
		

        return false;
		}
		else
		{
			return false;
		}
    });
	
	//}
});
</script>

<script  type="text/javascript">
/** Common Functions **/
function new_emailvalidater(email)
{
	var emailExp = /^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/;
	if(email.match(emailExp)){
		return true;
	}
	else{
		return false;
	}
}

function new_isnumeric(number)
{
	var alphaExp = /^[0-9]+$/;
			
	if(number.match(alphaExp))
	{
		return true;
	} else{
		return false;
	}
			
}



</script>
<script type="text/javascript" >
function edit_email_template(email_template_id)
{
	$.ajax({
						
						url: '<?php echo site_url('clientadmin/get_email_template').''; ?>',
						dataType: 'json',
						type: 'POST',
						data: {
						email_template_id : email_template_id
							  },
								success: function(response) {
									$('#templateid').val(response.emailtemplate_id);
									$('#templatecode').val(response.emailtemplate_code);
									$('#templatedescription').val(response.emailtemplate_desc);
									$('#templatesubject').val(response.emailtemplate_subject);
									//$('#wysiwg_editor2').val(response.emailtemplate_body);
									 
									 var data = CKEDITOR.ajax.load(response.emailtemplate_body);
									
									$("#wysiwg_editor2").html(response.emailtemplate_body);
									
								}
					});
}
</script>
</body>
</html>